# Docker Compose Local Override Example
# Copy this to docker-compose.override.yml for local development (not committed)
#
# This file allows you to override docker-compose.yml settings for local development
# without modifying the main file. Docker Compose automatically merges these settings.
#
# Reference: https://docs.docker.com/compose/extends/

version: '3.8'

services:
  # Override MongoDB settings if needed
  # mongodb:
  #   ports:
  #     - "27017:27017"  # Expose on different port if needed
  #   environment:
  #     MONGO_INITDB_ROOT_PASSWORD: your_password_here

  # Override app settings for development
  app-dev:
    # Use this when developing locally without Docker
    # docker-compose -f docker-compose.yml -f docker-compose.override.yml up -d
    ports:
      - "8000:8000"
    environment:
      LOG_LEVEL: DEBUG
      ENVIRONMENT: development
      PYTHONUNBUFFERED: 1
    # volumes:
    #   - .:/app  # Uncomment for hot reload

  # Add a mail service for local development (optional)
  # mailhog:
  #   image: mailhog/mailhog:latest
  #   ports:
  #     - "1025:1025"  # SMTP
  #     - "8025:8025"  # Web UI
  #   networks:
  #     - library-network
  #   profiles:
  #     - dev

  # Add a local MinIO for S3-compatible storage (optional)
  # minio:
  #   image: minio/minio:latest
  #   ports:
  #     - "9000:9000"
  #     - "9001:9001"
  #   environment:
  #     MINIO_ROOT_USER: minioadmin
  #     MINIO_ROOT_PASSWORD: minioadmin
  #   command: server /data --console-address ":9001"
  #   volumes:
  #     - minio-data:/data
  #   networks:
  #     - library-network
  #   profiles:
  #     - dev

# volumes:
#   minio-data:
